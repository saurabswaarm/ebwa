(this.webpackJsonpebwa_react=this.webpackJsonpebwa_react||[]).push([[0],{41:function(e,t,c){},57:function(e,t){},60:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(19),r=c.n(a),l=(c(41),c(0));var i=function(e){return Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-lg-8 col-sm-10 p-0 bg-white",children:e.children})})})},o=c(5),d=c(2),j=c(3),u=c(6),h=c.n(u),b=c(13),m="SET_USER",x="REMOVE_USER",f="SET_USER_ERR",p="SET_NOTICEBOARD",O="REMOVE_NOTICEBOARD",v="SET_NOTICEBOARD_ERR",g={host:"http://ebwa.in"},N=c(16),y=c.n(N),w=function(e){return{type:m,payload:e}},k=function(e){return console.log(e),{type:f,payload:{code:e.code,status:e.payload.status,message:e.payload.message}}},C=function(){return{type:x,payload:null}},E=function(){return{type:O,payload:null}},S=function(e){return{type:v,payload:e}},F=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t,c){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g.host,"/api/posts"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:return s=e.sent,e.next=6,s.json();case 6:4==(n=e.sent).code?t((c=n.payload.posts,{type:p,payload:c})):t(S(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}()},T=function(e){return e.user},I=function(e){return e.noticeBoard};var P=function(){var e=Object(o.b)(),t=Object(o.c)(T),c=Object(d.f)(),s=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("span",{className:"nav-link active","aria-current":"page",onClick:function(t){var s;null===(s=document.getElementById("nav-toggle-toggle"))||void 0===s||s.click(),e(function(){var e=Object(b.a)(h.a.mark((function e(t,c){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Logout action fired"),e.next=3,fetch("".concat(g.host,"/api/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:return s=e.sent,e.next=6,s.json();case 6:3==(n=e.sent).code?(t(C()),t(E())):(t(k(n)),t(C()));case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),c.push("/f/auth/login"),console.log(c)},children:"Log Out"})}),Object(l.jsx)("li",{className:"nav-item",onClick:function(){return document.getElementById("nav-toggle-toggle").click()},children:Object(l.jsx)(j.b,{className:"nav-link",to:"/f/auth/changepassword",children:"Change Password"})})]}),n=Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("li",{className:"nav-item",onClick:function(){return document.getElementById("nav-toggle-toggle").click()},children:Object(l.jsx)(j.b,{className:"nav-link",to:"/f/auth/login",children:"Log In"})})});return Object(l.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)(j.b,{className:"navbar-brand",to:"/",children:"EBWA"}),Object(l.jsx)("div",{className:"text-light",children:t.name}),Object(l.jsx)("button",{id:"nav-toggle-toggle",className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(l.jsx)("ul",{className:"navbar-nav",children:t?s:n})})]})})},A=c(12);var B=function(){var e=Object(s.useState)(""),t=Object(A.a)(e,2),c=t[0],n=t[1],a=Object(d.f)();function r(){return(r=Object(b.a)(h.a.mark((function e(t){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(c+" is being claimed"),e.next=4,fetch("http://localhost:3006/api/auth/createaccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})});case 4:return s=e.sent,e.next=7,s.json();case 7:1==(n=e.sent).code?a.push("/f/auth/accountcreated"):456==n.code?a.push("/f/auth/login"):455==n.code?a.push("/f/auth/noinvite"):a.push("/f/error");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5",children:[Object(l.jsx)("h1",{children:"Claim your EBWA portal account"}),Object(l.jsx)("p",{className:"fs-4",children:"Please enter the email id you used to send documents to the association. Make sure you have access to it as you will be emailed a password to login to this portal"}),Object(l.jsxs)("form",{className:"p-2 d-flex flex-column align-items-center",children:[Object(l.jsx)("input",{className:"form-control",type:"email",placeholder:"email",value:c,onChange:function(e){n(e.currentTarget.value)}}),Object(l.jsx)("button",{onClick:function(e){return r.apply(this,arguments)},className:"btn btn-info mt-4",children:"Claim Account"})]}),Object(l.jsx)("hr",{className:"my-3"}),Object(l.jsx)("h1",{className:"mt-4",children:"Already Have an account?"}),Object(l.jsx)(j.b,{to:"/f/auth/login/",className:"btn btn-info mt-2 align-self-center",children:"Login"})]})};var q=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-5",children:"We have mailed you a password."}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"Congratulation, your documents have been verified and now you may use the portal."}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"We have emailed you a password that you may use to login to the portal."}),Object(l.jsx)(j.b,{to:"/f/auth/login",className:"btn btn-info mt-2 align-self-center",children:"LogIn"})]})};var D=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-5",children:"Your Email Isn't Valid"}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"If you haven't submitted your documents, you will need to do so, so that we may verify your identity."}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"However if you have submitted them, please check back in a few days as we may still be processing them."})]})},R=c(14),L=c(8);var W=function(){var e=Object(d.f)(),t=Object(o.b)(),c=Object(o.c)(T),n=Object(s.useState)(!0),a=Object(A.a)(n,2),r=a[0],i=a[1],u=Object(s.useState)({email:"saurabsalhotra@gmail.com",password:"BSZTD"}),m=Object(A.a)(u,2),x=m[0],f=m[1];function p(e){var t=e.currentTarget;f(Object(L.a)(Object(L.a)({},x),{},Object(R.a)({},t.name,t.value)))}return Object(s.useEffect)((function(){i(!function(){var e=x.email,t=x.password;return!(!e||!t)&&(e.includes("@")&&e.includes(".")&&t.length>=5)}()),c&&e.push("/f/noticeboard")})),Object(l.jsxs)("form",{className:"p-2 d-flex flex-column align-items-stretch",children:[Object(l.jsx)("input",{className:"form-control my-2",type:"email",name:"email",placeholder:"email",value:x.email,required:!0,onChange:p}),Object(l.jsx)("input",{className:"form-control my-2",type:"password",name:"password",placeholder:"password",value:x.password,required:!0,onChange:p}),Object(l.jsx)("button",{className:"btn btn-info mt-4",disabled:r,onClick:function(e){var c;e.preventDefault(),t((c=x,function(){var e=Object(b.a)(h.a.mark((function e(t,s){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g.host,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)});case 3:return n=e.sent,e.next=6,n.json();case 6:2==(a=e.sent).code?(t(w(a.payload.user)),t(F())):t(k(a.payload)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(C());case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}()))},children:"Login"}),Object(l.jsx)(j.b,{to:"/auth/forgotpassword",className:"btn btn-info mt-4",children:"Forgot Password"})]})};var _=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-5",children:"Account Already Exists"}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"It seems this account already exists, please just login into it using your credentials."}),Object(l.jsx)(W,{})]})};var J=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-5",children:"Log In to EBWA portal"}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"If this is you first login, please check your email, you will find a username and password, that is specific to you. Please do not share that with anyone."}),Object(l.jsx)(W,{})]})};var M=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-5",children:"Invalid Password"}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"Sorry, we couldn't validate your password, please check if you have typed it correctly. If you have forgotten it please request a new password."}),Object(l.jsx)(W,{})]})};var U=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-2",children:"Forgot Password"}),Object(l.jsxs)("p",{className:"fs-4 px-4",children:["If you have forgotten your password, please provide us with the email, you used to register with the Associaition."," "]}),Object(l.jsxs)("form",{className:"p-2 d-flex flex-column align-items-center",children:[Object(l.jsx)("input",{className:"form-control my-2",type:"password",placeholder:"new password",required:!0}),Object(l.jsx)(j.b,{to:"/f/auth/resetforgotpassword",className:"btn btn-info mt-4",children:"Request Password Change Link"})]})]})};var Y=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-2",children:"Enter new password"}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"You have initiated a password change. A secret token has been mailed to your email account registered with us. Please open that mail and provide us with the secret access token."}),Object(l.jsxs)("form",{className:"p-2 mt-4 d-flex flex-column align-items-center",children:[Object(l.jsxs)("div",{className:"d-flex flex-column align-items-stretch w-75 mb-3",children:[Object(l.jsx)("input",{className:"form-control w-100 my-2",type:"text",placeholder:"secret token",required:!0}),Object(l.jsx)("input",{className:"form-control w-100 my-2",type:"password",placeholder:"new password",required:!0}),Object(l.jsx)("input",{className:"form-control w-100 my-2",type:"password",placeholder:"confirm new password",required:!0})]}),Object(l.jsx)(j.b,{to:"/auth/passwordchanged",className:"btn btn-info ",children:"Change Passsword"})]})]})};var H=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-5",children:"Change Password"}),Object(l.jsxs)("form",{className:"p-2 d-flex flex-column align-items-center",children:[Object(l.jsxs)("div",{className:"d-flex flex-column align-items-stretch w-75 mb-5",children:[Object(l.jsx)("label",{htmlFor:"",children:"Please Enter old password"}),Object(l.jsx)("input",{className:"form-control w-100 my-2",type:"password",placeholder:"old password",required:!0})]}),Object(l.jsxs)("div",{className:"d-flex flex-column align-items-stretch w-75 mb-5",children:[Object(l.jsx)("label",{htmlFor:"",children:"Please Enter new password"}),Object(l.jsx)("input",{className:"form-control w-100 my-2",type:"password",placeholder:"new password",required:!0}),Object(l.jsx)("input",{className:"form-control w-100 my-2",type:"password",placeholder:"confirm new password",required:!0})]}),Object(l.jsx)("button",{className:"btn btn-info mt-4",children:"Change Passsword"})]})]})};var V=function(){return Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5 ",children:[Object(l.jsx)("h1",{className:"mb-5",children:"Your Password has been changed"}),Object(l.jsx)("p",{className:"fs-4 px-4",children:"You requested a password change and the same has been processed. An email regarding the same was also sent to you. You may now proceed by loggin in with your new credentials."}),Object(l.jsx)(j.b,{to:"/auth/login",className:"btn btn-info ",children:"Login"})]})};function G(){return Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{path:"/f/auth/accountcreated",children:Object(l.jsx)(q,{})}),Object(l.jsx)(d.a,{path:"/f/auth/createaccount",children:Object(l.jsx)(B,{})}),Object(l.jsx)(d.a,{path:"/f/auth/noinvite",children:Object(l.jsx)(D,{})}),Object(l.jsx)(d.a,{path:"/f/auth/accountalreadyexists",children:Object(l.jsx)(_,{})}),Object(l.jsx)(d.a,{path:"/f/auth/login",children:Object(l.jsx)(J,{})}),Object(l.jsx)(d.a,{path:"/f/auth/invalidpassword",children:Object(l.jsx)(M,{})}),Object(l.jsx)(d.a,{path:"/f/auth/forgotpassword",children:Object(l.jsx)(U,{})}),Object(l.jsx)(d.a,{path:"/f/auth/resetforgotpassword",children:Object(l.jsx)(Y,{})}),Object(l.jsx)(d.a,{path:"/f/auth/changepassword",children:Object(l.jsx)(H,{})}),Object(l.jsx)(d.a,{path:"/f/auth/passwordChanged",children:Object(l.jsx)(V,{})})]})}var Q=function(){var e=Object(d.f)(),t=Object(o.c)(T),c=Object(o.b)(),n=Object(s.useState)(!1),a=Object(A.a)(n,2),r=a[0],i=a[1];return Object(s.useEffect)((function(){t&&(console.log("Pre-existing session detected, rerouting. User:"+t.email),e.push("/f/noticeboard")),t||r||(console.log("Found no user, dispatching a resumeSession"),c((console.log("resume session ran"),function(){var e=Object(b.a)(h.a.mark((function e(t,c){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g.host,"/api/auth/resumesession"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:return s=e.sent,e.next=6,s.json();case 6:2==(n=e.sent).code?(t(w(n.payload.user)),t(F())):(console.log(n),t(k(n)),t(C())),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(C());case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}())),i(!0))})),Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5",children:[Object(l.jsx)("h1",{className:"mb-5",children:"Welcome to EBWA"}),Object(l.jsx)("p",{className:"fs-4",children:"If this is your first time here, please claim your account."}),Object(l.jsx)(j.b,{to:"/f/auth/createaccount",className:"btn btn-info mt-2 align-self-center",children:"Claim Account"}),Object(l.jsx)("hr",{className:"my-3"}),Object(l.jsx)("h1",{className:"mt-4",children:"Already Have an account?"}),Object(l.jsx)(j.b,{to:"/f/auth/login",className:"btn btn-info mt-2 align-self-center",children:"LogIn"}),Object(l.jsx)("h3",{className:"mt-5",children:"Users who have actived their accounts"}),Object(l.jsx)("iframe",{style:{backgroundColor:"#FFFFFF",border:"none",borderRadius:"2px",boxShadow:"0 2px 10px 0 rgba(70, 76, 79, .2)",margin:"20px auto 20px auto"},width:"320",height:"240",src:"https://charts.mongodb.com/charts-project-0-xksgk/embed/charts?id=25ea2996-39b1-401c-8782-12ffc2adf43b&theme=light"})]})};var Z=function(){var e=Object(d.g)(),t=y.a.parse(e.search,{ignoreQueryPrefix:!0}).error;return console.log(e),Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5",children:[Object(l.jsxs)("h1",{className:"text-danger",children:[" ",t," "]}),Object(l.jsx)("hr",{}),Object(l.jsx)("h3",{className:"mb-1",children:"We Faced an error."}),Object(l.jsx)("p",{className:"fs-4",children:"We are sorry something went wrong please use the back button to go where you were."}),Object(l.jsx)(j.b,{to:"/f/welcome",children:"Back to Welcome Screen"})]})};var z=function(e){var t=e.user;return Object(l.jsxs)("div",{className:"container mt-3 mb-0",children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("h2",{className:"text-center mb-0",children:["Hello, ",t.name]})}),Object(l.jsxs)("div",{className:"row justify-content-center gx-0 pt-0",children:[Object(l.jsxs)("div",{className:"col-4 text-end text-muted",children:["CID ",t.cid]}),Object(l.jsx)("div",{className:"col-1 text-center",children:Object(l.jsx)("b",{children:"|"})}),Object(l.jsx)("div",{className:"col-4 text-start text-muted",children:t.designation})]})]})},K=c(34);var X=function(e){var t=e.post,c=new Date(t.date);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container-fluid bg-light my-4 p-4",children:[Object(l.jsxs)("div",{className:"row align-items-center",children:[Object(l.jsxs)("div",{className:"col-10",children:[Object(l.jsxs)("p",{className:"fs-5 my-0",children:[" ",Object(l.jsx)("b",{children:t.author.name})," | ",Object(l.jsxs)("span",{className:"fs-6 text-muted",children:[" ",t.author.designation," "]})," "]}),Object(l.jsxs)("p",{className:"fs-6 my-0 text-muted",children:[" ",c.toLocaleDateString()]})]}),Object(l.jsx)("div",{className:"col-2 d-flex justify-content-end",children:Object(l.jsx)("button",{className:"btn btn-info",children:" Edit "})})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsx)("p",{className:"fs-4 mt-3 text-center",children:Object(l.jsx)("b",{children:t.title})}),Object(l.jsx)("p",{className:"fs-5 mt-3 text-center",children:t.subject})]}),Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("p",{className:"fs-6 mt-3 text-left",children:t.message})})]})]})})};var $=function(e){var t=e.posts,c=[];if(t instanceof Array&&t.length>0){var s,n=Object(K.a)(t);try{for(n.s();!(s=n.n()).done;){var a=s.value;c.push(Object(l.jsx)(X,{post:a},a._id))}}catch(r){n.e(r)}finally{n.f()}}return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"conatiner mt-3 px-3",children:[Object(l.jsx)("h5",{children:"Notice Board"}),Object(l.jsx)("hr",{className:"my-0"}),c]})})};function ee(e){var t=e.user;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col text-center",children:t.admin?Object(l.jsx)(j.b,{to:"/f/noticeboard/createpost",className:"btn btn-dark my-3",children:"Create Post"}):null}),Object(l.jsx)("div",{className:"col text-center",children:t.admin?Object(l.jsx)(j.b,{to:"/f/auth/createuser",className:"btn btn-dark my-3",children:"Create User"}):null})]})})})}function te(){var e=Object(d.f)(),t=Object(o.c)(T),c=Object(o.c)(I);return Object(s.useEffect)((function(){t?console.log("Notice board found user : "+t.email):(console.log("Redirecting to Login"),e.push("/f/auth/login"))}),[t]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(z,{user:t}),Object(l.jsx)(ee,{user:t}),Object(l.jsx)($,{posts:c})]})}var ce=c(15),se=c(35),ne=c(36),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload;case x:return!1;default:return e}},re={user:!1,noticeBoard:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(L.a)(Object(L.a)({},e),{},{user:t.payload});case v:return Object(L.a)(Object(L.a)({},e),{},{noticeBoard:t.payload});default:return e}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.payload;case O:return!1;default:return e}},oe=Object(se.composeWithDevTools)(Object(ce.applyMiddleware)(ne.a)),de=Object(ce.combineReducers)({user:ae,error:le,noticeBoard:ie}),je=Object(ce.createStore)(de,oe);function ue(){var e=Object(o.b)(),t=Object(o.c)(T),c=Object(d.f)(),n=Object(s.useState)({title:"",subject:"",message:""}),a=Object(A.a)(n,2),r=a[0],i=a[1];function j(e){var t=e.currentTarget;i(Object(L.a)(Object(L.a)({},r),{},Object(R.a)({},t.name,t.value)))}return Object(s.useEffect)((function(){t.admin||c.push("/f/auth/login")})),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container m-4",children:[Object(l.jsxs)("div",{className:"row mb-3",children:[Object(l.jsx)("div",{className:"h3",children:"Add a notification to the notice board."}),Object(l.jsx)("p",{children:"Do remember that the post will be signed under your name."})]}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"post-title-input",className:"form-label",children:Object(l.jsx)("b",{children:"Title"})}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"title",id:"post-title-input",value:r.title,onChange:j})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"post-subject-input",className:"form-label",children:Object(l.jsx)("b",{children:"Subject"})}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"subject",id:"post-subject-input",value:r.subject,onChange:j})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"post-message-input",className:"form-label",children:Object(l.jsx)("b",{children:"Message"})}),Object(l.jsx)("textarea",{className:"form-control",name:"message",id:"post-message-input",value:r.message,onChange:j})]}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("button",{className:"btn btn-info",onClick:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(b.a)(h.a.mark((function t(c,s){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(g.host,"/api/posts"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});case 3:return n=t.sent,t.next=6,n.json();case 6:5==(a=t.sent).code?c(F()):c(S(a())),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()}(r)),c.push("/f/noticeboard")},children:"Submit"})})]})})]})})}function he(){var e=Object(o.b)(),t=Object(o.c)(T),c=Object(d.f)(),n=Object(s.useState)({name:"",email:"",phone:123,cid:""}),a=Object(A.a)(n,2),r=a[0],i=a[1];function j(e){var t=e.currentTarget;i(Object(L.a)(Object(L.a)({},r),{},Object(R.a)({},t.name,t.value)))}return Object(s.useEffect)((function(){t.admin||c.push("/f/auth/login")})),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container m-4",children:[Object(l.jsxs)("div",{className:"row mb-3",children:[Object(l.jsx)("div",{className:"h3",children:"Add a user."}),Object(l.jsx)("p",{children:"Do remember that the user will be invited under your name."})]}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"create-user-name-input",className:"form-label",children:Object(l.jsx)("b",{children:"Investor name"})}),Object(l.jsx)("input",{required:!0,type:"text",className:"form-control",name:"name",id:"create-user-name-input",value:r.name,onChange:j})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"create-user-title-input",className:"form-label",children:Object(l.jsx)("b",{children:"Investor email"})}),Object(l.jsx)("input",{required:!0,type:"email",className:"form-control",name:"email",id:"create-user-title-input",value:r.email,onChange:j})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"create-user-subject-input",className:"form-label",children:Object(l.jsx)("b",{children:"Investor phone number"})}),Object(l.jsx)("input",{required:!0,type:"number",className:"form-control",name:"phone",id:"create-user-subject-input",value:r.phone,onChange:j})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"create-user-subject-input",className:"form-label",children:Object(l.jsx)("b",{children:"CID number"})}),Object(l.jsx)("input",{required:!0,type:"string",className:"form-control",name:"cid",id:"create-user-cid-input",value:r.cid,onChange:j})]}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("button",{className:"btn btn-info",onClick:function(t){t.preventDefault(),console.log(r),e(function(e,t){return function(){var c=Object(b.a)(h.a.mark((function c(s,n){var a,r,l,i;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(g.host,"/api/auth/adduser"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});case 3:return a=c.sent,c.next=6,a.json();case 6:6==(r=c.sent).code?(l=y.a.stringify({action:"added a new user",message:"Added ".concat(r.payload.user.email," as new user.")}),t.push("/f/success?".concat(l))):(i=y.a.stringify({error:"Failed to add ".concat(e.email," as new user.")}),t.push("/f/error?".concat(i))),c.next=12;break;case 10:c.prev=10,c.t0=c.catch(0);case 12:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e,t){return c.apply(this,arguments)}}()}(r,c)),c.push("/f/noticeboard")},children:"Submit"})})]})})]})})}var be=function(){var e=Object(d.g)(),t=y.a.parse(e.search,{ignoreQueryPrefix:!0}),c=t.action,s=t.message;return console.log(e),Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-stretch justify-content-center text-center vh-100 p-5",children:[Object(l.jsx)("h1",{className:"text-success",children:" Success "}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{className:"mb-1",children:["You have succesfully ",c," "]}),Object(l.jsx)("p",{className:"fs-4",children:s}),Object(l.jsx)(j.b,{to:"/f/welcome",children:"Back to Welcome Screen"})]})};var me=function(){return Object(l.jsx)(o.a,{store:je,children:Object(l.jsx)(j.a,{children:Object(l.jsxs)(i,{children:[Object(l.jsx)(P,{}),Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{path:"/f/auth/createuser",children:Object(l.jsx)(he,{})}),Object(l.jsx)(d.a,{path:"/f/auth/*",children:Object(l.jsx)(G,{})}),Object(l.jsx)(d.a,{exact:!0,path:"/f/noticeboard/createpost",children:Object(l.jsx)(ue,{})}),Object(l.jsx)(d.a,{exact:!0,path:"/f/noticeboard",children:Object(l.jsx)(te,{})}),Object(l.jsx)(d.a,{path:"/f/error",children:Object(l.jsx)(Z,{})}),Object(l.jsx)(d.a,{path:"/f/success",children:Object(l.jsx)(be,{})}),Object(l.jsx)(d.a,{path:"/",children:Object(l.jsx)(Q,{})})]})]})})})},xe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(me,{})}),document.getElementById("root")),xe()}},[[60,1,2]]]);
//# sourceMappingURL=main.1fd79323.chunk.js.map